<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Magna</title>
	<link rel="icon" type="image/x-icon" href="./img/MAGNA-Logo_small.jpg">
	<link rel="stylesheet" href="./css/chart.css">
	<script src="./js/chart.js"></script>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.0/dist/chart.min.js"></script>
	<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>-->
	<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"
		integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
		crossorigin="anonymous"></script>
	<script type="text/javascript">
		function preventBack() {
			window.history.forward();
		}
		setTimeout("preventBack()", 0);
		window.onunload = function () {null};
	</script>
</head>
<!--chartContent-->
<body onload="chartContent(), deptDropwn()">
	<div>
		<div class="header">
			<img src="./img/Magna-Logo-White-Reverse-LR-V1.0.png" class="logo" width="10%"></img>
			<input type="file" id="imageInput" style="display:none">
			<img id="noimage" src="./img/noimage.png" alt="Magna-Logo" style="display:none">
			
			<div class="header-right">
				<button type="button" class="btn btn-danger" data-toggle="tooltip" id="logout" data-placement="bottom" title="" onclick="logout()">
				   <div style="display: flex;">
				    <div style="font-weight: bold;">
				      LOGOUT
				    </div>
					<div>
					 <span class="material-icons icon" style="color:white">
					logout
				    </span>
					</div>
				   </div>
				</button>
			</div>
		</div>

		<div id="body">
			<form>
				<div class="m-0">
					<div class="row align-items-start" style="margin-top:6%">
						<div class="col-2" id="monthcss" style="height:40px;">
							<div class="form-outline mb-4">
								<div class="container">
									<div class="row align-items-start">
										<div class="col-3" style="padding:0px">
											<label class="form-label" for="month"
												style="padding-top:5px"><b>Month:</b></label>
										</div>
										<div class="col-9" id="mon" style="padding-left:10px">
											<input type="month" id="month" name="month" placeholder="Select Month" style="cursor: pointer;"
												class="form-control datepicker" onchange="mntSelect()">
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-2"id="deptcss" style="height:40px;">
							<div class="form-outline mb-4">
								<div class="container">
									<div class="row align-items-start">
										<div class="col-5" style="padding:0px">
											<label class="form-label" for="department"
												style="padding-top:5px"><b>Department: </b></label>
										</div>
										<div class="col-7" style="padding-left:10px">
											<select id="department" class="form-control" style="cursor: pointer;"
												onchange="deptSelect()"></select>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-2" id="seccss" style="height:40px;">
							<div class="form-outline mb-4">
								<div class="container">
									<div class="row align-items-start">
										<div class="col-4" style="padding:0px">
											<label class="form-label" for="section"
												style="padding-top:5px"><b>Section: </b></label>
										</div>
										<div class="col-8" style="padding-left:5px">
											<select id="sectionDropDown" class="form-control" style="cursor: pointer;"
												onchange="sectionSelect()"></select>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-5"></div>
						<div id="homeBtn" class="col-1" style="height:40px;display:none;">
							<div class="form-outline mb-4">
								<div class="container">
									<div class="row align-items-end">
										<div class="col-12" style="padding:0px;">
											<button class="btn btn-primary" onclick="BackToHome()">Home</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</form>
			<div class="div">
			  <div class="card" onclick="mainDisFunction()" style="height:345px;background-color: #ffffff; box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1); transform: translateY(-10px); transition: transform 0.3s ease;margin-top:1%">
				<div class="card-header" style="background-color: #B9B4B3; height: 40px;">
					<h7 style="font-weight: bold;font-size:larger">Department Wise Action Report</h7>
				</div>
				<canvas id="ctx" width="150" height="25"></canvas>
			  </div>
			</div>
			<div class="row align-items-start">
				<div class="col-lg-2 col-md-2" id="overallactionpoint" style="margin-top:2.5%">
					<div class="card" id="headcard" style="background-color: #ffffff; height:300px ;box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1); transform: translateY(-10px); transition: transform 0.3s ease;">
						<div class="card-header" style="background-color: #B9B4B3;height: 40px">
							<h7 style="font-weight: bold;font-size:larger">Overall Action Points</h7>
						</div>
						<canvas id="myChart" height='60' width='50'></canvas>
						<img src="./img/nodata.png" class="logo" width="100%" id="mychartnodataimg"  style="display: none;margin-top:-80%"></img>
					</div>
				</div>
				<div class="col-lg-2 col-md-2" id="bestperformer" style="margin-top:2.5%">
					<div class="card" id="headcard"  style="background-color: #ffffff; height:300px ; box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1); transform: translateY(-10px); transition: transform 0.3s ease;">
						<div class="card-header" style="background-color: #B9B4B3;height: 40px">
							<h7  style="font-weight: bold;font-size:larger">Best Performers</h7>
						</div>
						<canvas id="topPerfm" height='60' width='50'></canvas>
						<img src="./img/nodata.png" class="logo" width="100%" id="nodataimg" style="display: none;margin-top:-80%"></img>
					</div>
				</div>
				<div class="col-lg-8 col-md-8" id="actionpointtrace" style="margin-top:1%">
					<div class="card"  style="background-color: #ffffff; box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1); transform: translateY(-10px); transition: transform 0.3s ease;">
						<div class="card-header" style="background-color: #B9B4B3;height: 40px">
							<h7 style="font-weight: bold;font-size:larger">Action Point Trace</h7>
						</div>
						<canvas id="myLineChart" width="188" height="60"></canvas>
					</div>
				</div>
			</div>
		</div>
		<div id="nextBlock" style="display: none;">
			<div class="d-flex">
				<div id="backbtn" class="me-auto p-2" style="padding:0px;margin-top:5%"><button class="btn btn-primary"
						onclick="backtomain()"><b>Back</b></button>
				</div id="backbtn">
					<div id="adminsec" class="mr-auto p-1" style="padding:0px;margin-top:5%;">
					<div class="row">
					  <div class="col-md-3">
					     <label for="staticResp" class="col-form-label"><b>Section</b></label>
					   </div>
					  <div class="col-md-7">
					    <select id="adminsection" class="form-control" style="cursor: pointer;"
												onchange="adminSectionChange('1')"></select>
					   </div>
					</div>
							
				</div>
			</div>
			<div class="row">
				<div id="uploadOption" class="col-12" style="display: none;">
					<div class="card" style="margin-top:6%;">
						<div class="card-header" style="background-color: #0BB2F1;">
							<h5>Action Point Update - ( <span id="updatePoint"></span> )</h5>
						</div>
						<div class="card-body m-2" id="updateFont">
							<div class="row">
								<label for="staticPoint" class="col-sm-3 mb-3 col-form-label"><b>Action
										Point</b></label>
								<div class="col-sm-9">
									<input type="text" disabled class="form-control" id="staticPoint">
								</div>
							</div>
							<div class="row">
								<label for="staticResp" class="col-sm-3 mb-3 col-form-label"><b>Section</b></label>
								<div class="col-sm-9">
									<input type="text" disabled class="form-control" id="staticSec">
								</div>
							</div>
							<div class="row">
								<label for="staticResp"
									class="col-sm-3 mb-3 col-form-label"><b>Responsibility</b></label>
								<div class="col-sm-9">
									<input type="text" disabled class="form-control" id="staticResp">
								</div>
							</div>
							<div class="row">
								<label for="staticDate" class="col-sm-3 mb-3 col-form-label"><b>Target Date</b></label>
								<div class="col-sm-9">
									<input type="text" disabled class="form-control" id="staticDate">
								</div>
							</div>
							<div class="row" id="reasonHide">
								<label for="Remark" class="col-sm-3 mb-3 col-form-label"><b>Rejected
										Reason</b></label>
								<div class="col-sm-9">
									<textarea class="form-control" disabled id="Remark" rows="1"></textarea>
								</div>
							</div>
							<div class="row">
								<label for="comment" class="col-sm-3 mb-3 col-form-label"><b>Comment<span
											style="color:red">*</span></b></label>
								<div class="col-sm-9 mb-3">
									<textarea class="form-control" id="comment" rows="4"></textarea>
								</div>
							</div>
							<div class="row">
								<label for="checkBox" class="col-sm-3 mb-3 col-form-label"><b>Select File /
										Camera</b></label>
								<div class="form-check form-switch col-sm-9 mb-3">
									<input class="form-check-input" id="checkBox" type="checkbox" role="switch"
										onclick="toggleClick()">
								</div>
							</div>
							<div class="row" id="file" style="display: block;">
								<label for="formFile" class="col-sm-3 mb-3 form-label"><b>Upload File</b></label>
								<div class="col-sm-9">
									<input class="form-control mb-2" type="file" id="formFile"
										onchange="getuploadpic(event)" accept="image/*">
									<span id="sid" class="d-none"></span>
								</div>
							</div>
							<div class="row mt-3" id="camera" style="display: none;">
								<button id="start-camera" class="btn btn-secondary mb-2 col-sm-3"
									onclick="opencamare()">Start
									Camera<span style="color:red">*</span></button>
								<button id="click-photo" class="btn btn-secondary mb-2 col-sm-3"
									onclick="getpic()">Click
									Photo</button>
								<video class='mb-2' style="display: none;" id="video" width="320" height="240"
									autoplay></video>
								<canvas class='mb-2' style="display: none;" id="canvaspic" width="320"
									height="240"></canvas style="display: none;">
							</div>
							<button class="btn btn-primary" type="button" onclick="SubmitUpload()"
								href='#'>Submit</button>
							<button class="btn btn-primary" type="button" onclick="cancelUpload()"
								href='#'>Cancel</button>
							</br>
							</br>
							</br>
							<p id="beforePic"></p>
							</br>
							<div>
								<img id="imgBefore" style="height:100%;width:100%;display:none"></img>
							</div>
						</div>
					</div>
				</div>
				<div id="listOption" class="col-12">
					<div class="card" >
						<div class="card-header">
							<h5>Action Point - ( <span id="updatePointList"></span> )</h5>
						</div>
						<div class="card-body" id="divIdOpen" style="margin-top:5px">
							<input type="text" id="searchBox" placeholder="Search to filter.."
								onkeyup="performSearch()">
							<table class="table table-striped table-bordered" border-spacing="5px" id="tableDynamic">
							<div class="tabspin"> 
							   <div class="spinner" style="display: none;" id="tablespinner"></div>
							</div>
							</table>
							<div>
								<div style="float: right;">
									page: <span id="page"></span>
									<button class="btn btn-primary" type="button" onclick="prevPage()" href='#'
										id="btn_prev">Prev</button>
									<button class="btn btn-primary" type="button" onclick="nextPage()" href='#'
										id="btn_next">Next</button>
								</div>
							</div>
						</div>
					</div>
				</div id="listOption">
			</div>
		</div>
	</div>
</body>

</html>